{
  "name": "my-api",

  "proxy": {
    "context_path": "/my-api",
    "target": "http://localhost:1234",
    "strip_context_path": false,

    "http_client": {
      "read_timeout": 60000,
      "request_timeout": 60000,
      "connect_timeout": 5000,
      "max_connections": -1,
      "max_connections_per_host": -1,
      "use_proxy": true,

      "http_proxy": {
        "host": "proxy_host",
        "port": 1234,
        "principal": "username",
        "password": "my_password"
      }
    }
  },

  "paths": {
    "/*": {
      "access-control": {
        "enabled": true
      },
      "rate-limit": {
        "rate": 1000,
        "per": 60,
        "unit": "SECOND"
      },
      "transform": [
        {
          "delete_headers": [
            "authorization"
          ],
          "add_headers": {
            "x-widgets-secret": "th-secret-widget-key-is-secret"
          },
          "path": "widgets/{id}",
          "method": "GET"
        },
        {
          "delete_headers": [
            "authorization"
          ],
          "add_headers": {
            "x-widgets-secret": "th-secret-widget-key-is-secret"
          },
          "path": "widgets",
          "method": "GET"
        }
      ]
    },
    "/demo/*": {
      "rate-limit": {
        "enabled": false
      }
    }
  }
}